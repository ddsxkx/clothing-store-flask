{% extends "base.html" %}

{% block title %}–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ - Elegance Boutique{% endblock %}

{% block content %}
<div class="categories-hero">
    <div class="container">
        <h1 class="page-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤</h1>
        <p class="page-subtitle">–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –Ω–∞—à—É —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é</p>
    </div>
</div>

<div class="container">
    <!-- –î–ï–†–ï–í–û –ö–ê–¢–ï–ì–û–†–ò–ô -->
    <div class="categories-tree-section">
        <h2 class="tree-title">–ù–∞—à–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—è</h2>
        <div class="categories-tree">
            {% for category in categories %}
                {% if category[3] is none %}  <!-- category[3] - —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è_–∫–∞—Ç–µ–≥–æ—Ä–∏—è -->
                <div class="tree-branch">
                    <div class="parent-category">
                        <a href="{{ url_for('catalog', category_id=category[0]) }}" class="category-link main-category">
                            <span class="category-icon">üìÅ</span>
                            {{ category[1] }}
                        </a>
                    </div>

                    <!-- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                    <div class="subcategories">
                        {% for subcategory in categories %}
                            {% if subcategory[3] == category[0] %}  <!-- subcategory[3] - —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è_–∫–∞—Ç–µ–≥–æ—Ä–∏—è -->
                            <div class="subcategory-item">
                                <a href="{{ url_for('catalog', category_id=subcategory[0]) }}" class="category-link subcategory-link">
                                    <span class="subcategory-icon">üìÑ</span>
                                    {{ subcategory[1] }}
                                </a>

                                <!-- –ü–æ–¥-–ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                                <div class="nested-subcategories">
                                    {% for nested in categories %}
                                        {% if nested[3] == subcategory[0] %}  <!-- nested[3] - —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è_–∫–∞—Ç–µ–≥–æ—Ä–∏—è -->
                                        <a href="{{ url_for('catalog', category_id=nested[0]) }}" class="category-link nested-link">
                                            <span class="nested-icon">üîπ</span>
                                            {{ nested[1] }}
                                        </a>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>

    <!-- –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –í–ò–î –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–• -->
    <div class="categories-grid-mobile">
        {% for category in categories %}
        <div class="category-card">
            <div class="category-icon">
                <div class="icon-placeholder">
                    {% if category[3] is none %}üìÅ{% else %}üìÑ{% endif %}
                </div>
            </div>
            <div class="category-content">
                <h3 class="category-name">{{ category[1] }}</h3>
                {% if category[2] %}
                <p class="category-description">{{ category[2] }}</p>
                {% endif %}
                {% if category[4] %}  <!-- category[4] - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è -->
                <p class="category-parent">–í—Ö–æ–¥–∏—Ç –≤: {{ category[4] }}</p>
                {% endif %}
                <a href="{{ url_for('catalog', category_id=category[0]) }}" class="btn btn-primary btn-full">
                    –°–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–≤–∞—Ä—ã
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}